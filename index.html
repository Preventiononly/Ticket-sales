<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hudson South Asians Diwali Party - Ticket Sales</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #fef3c7 0%, #fcd34d 50%, #f59e0b 100%);
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 600px;
        margin: 0 auto;
    }

    .header {
        text-align: center;
        margin-bottom: 40px;
        color: #78350f;
    }

    .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header p {
        font-size: 1.1rem;
        color: #92400e;
    }

    .event-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        margin-bottom: 20px;
    }

    .event-header {
        background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #f59e0b 100%);
        padding: 30px;
        color: white;
        text-align: center;
    }

    .event-header h2 {
        font-size: 1.8rem;
        margin-bottom: 10px;
        line-height: 1.3;
    }

    .event-header .decoration {
        font-size: 2rem;
        margin: 10px 0;
    }

    .event-body {
        padding: 30px;
    }

    .event-info {
        margin-bottom: 25px;
    }

    .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding: 12px;
        background: #fef3c7;
        border-radius: 8px;
    }

    .info-label {
        color: #92400e;
        font-weight: 600;
    }

    .info-value {
        font-weight: 700;
        color: #78350f;
    }

    .price {
        font-size: 1.5rem;
        color: #dc2626;
    }

    .tickets-left {
        font-weight: 700;
        font-size: 1.1rem;
    }

    .tickets-left.low {
        color: #f59e0b;
    }

    .tickets-left.sold-out {
        color: #ef4444;
    }

    .tickets-left.available {
        color: #10b981;
    }

    .venmo {
        color: #3b82f6;
        font-size: 1.1rem;
    }

    .buy-btn {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #f59e0b 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
    }

    .buy-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(220, 38, 38, 0.4);
    }

    .buy-btn:disabled {
        background: #d1d5db;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .modal.active {
        display: flex;
    }

    .modal-content {
        background: white;
        border-radius: 20px;
        padding: 30px;
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
    }

    .modal-header {
        font-size: 1.8rem;
        font-weight: bold;
        margin-bottom: 20px;
        color: #78350f;
    }

    .input-group {
        margin-bottom: 20px;
    }

    .input-group label {
        display: block;
        color: #374151;
        font-weight: 700;
        margin-bottom: 8px;
        font-size: 1.1rem;
    }

    .input-group input {
        width: 100%;
        padding: 14px;
        border: 2px solid #fcd34d;
        border-radius: 8px;
        font-size: 1.2rem;
        font-weight: 600;
    }

    .input-group input:focus {
        outline: none;
        border-color: #f59e0b;
    }

    .input-hint {
        font-size: 0.9rem;
        color: #6b7280;
        margin-top: 6px;
    }

    .payment-info {
        background: #fef3c7;
        border: 2px solid #fcd34d;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
    }

    .payment-info h4 {
        font-weight: bold;
        color: #78350f;
        margin-bottom: 15px;
        font-size: 1.2rem;
    }

    .payment-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-size: 1rem;
    }

    .payment-row .label {
        color: #92400e;
        font-weight: 600;
    }

    .payment-total {
        font-size: 1.4rem;
        font-weight: bold;
        color: #dc2626;
    }

    .payment-note {
        border-top: 2px solid #fcd34d;
        padding-top: 12px;
        margin-top: 12px;
        font-size: 0.9rem;
        color: #92400e;
        font-weight: 600;
    }

    .friends-family-note {
        background: #dbeafe;
        border: 2px solid #93c5fd;
        border-radius: 8px;
        padding: 12px;
        margin-top: 10px;
        text-align: center;
    }

    .friends-family-note strong {
        color: #1e40af;
        font-size: 1rem;
    }

    .modal-buttons {
        display: flex;
        gap: 12px;
    }

    .modal-buttons button {
        flex: 1;
        padding: 14px;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 700;
        cursor: pointer;
    }

    .btn-cancel {
        background: #e5e7eb;
        color: #374151;
    }

    .btn-cancel:hover {
        background: #d1d5db;
    }

    .btn-confirm {
        background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #f59e0b 100%);
        color: white;
    }

    .btn-confirm:hover {
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
    }

    .ticket-display {
        text-align: center;
    }

    .success-icon {
        width: 80px;
        height: 80px;
        background: #fef3c7;
        border-radius: 50%;
        margin: 0 auto 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
    }

    .qr-container {
        background: #fef3c7;
        border-radius: 12px;
        padding: 20px;
        margin: 20px 0;
    }

    .qr-code {
        width: 200px;
        height: 200px;
        margin: 0 auto 16px;
        border: 4px solid #fcd34d;
        border-radius: 8px;
    }

    .qr-instructions {
        font-size: 1rem;
        color: #92400e;
        margin-bottom: 16px;
        font-weight: 600;
    }

    .ticket-details {
        text-align: left;
        font-size: 1rem;
    }

    .ticket-details .detail-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        padding: 8px;
        background: white;
        border-radius: 6px;
    }

    .important-note {
        background: #dbeafe;
        border: 2px solid #93c5fd;
        border-radius: 10px;
        padding: 16px;
        margin-top: 20px;
    }

    .important-note strong {
        color: #1e40af;
        font-size: 1.1rem;
    }

    .important-note p {
        font-size: 0.9rem;
        color: #1e40af;
        margin-top: 6px;
    }

    .back-btn {
        background: none;
        border: none;
        color: #dc2626;
        font-weight: 700;
        cursor: pointer;
        margin-bottom: 16px;
        font-size: 1.1rem;
    }

    .back-btn:hover {
        text-decoration: underline;
    }

    @media (max-width: 768px) {
        .header h1 {
            font-size: 2rem;
        }

        .event-header h2 {
            font-size: 1.5rem;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü™î Diwali Celebration ü™î</h1>
            <p>Hudson South Asians Community Event</p>
        </div>

```
    <div class="event-card">
        <div class="event-header">
            <div class="decoration">‚ú® üéÜ ‚ú®</div>
            <h2>HUDSON SOUTH ASIANS<br>DIWALI PARTY</h2>
            <div class="decoration">ü™î üéâ ü™î</div>
        </div>
        <div class="event-body">
            <div class="event-info">
                <div class="info-row">
                    <span class="info-label">üíµ Price per Ticket</span>
                    <span class="info-value price">$40</span>
                </div>
                <div class="info-row">
                    <span class="info-label">üé´ Tickets Available</span>
                    <span class="tickets-left available" id="ticketsDisplay">100 / 100</span>
                </div>
                <div class="info-row">
                    <span class="info-label">üí≥ Venmo Account</span>
                    <span class="info-value venmo">@Saneka-Chakravarty</span>
                </div>
            </div>

            <button class="buy-btn" onclick="openPurchaseModal()" id="buyButton">
                Buy Tickets
            </button>
        </div>
    </div>
</div>

<!-- Purchase Modal -->
<div id="purchaseModal" class="modal">
    <div class="modal-content">
        <h2 class="modal-header">ü™î Purchase Diwali Party Tickets</h2>
        
        <div class="input-group">
            <label for="ticketQuantity">Number of Tickets</label>
            <input 
                type="number" 
                id="ticketQuantity" 
                min="1" 
                value="1"
                onchange="updateQuantity(this.value)"
            >
            <p class="input-hint">Max available: <span id="maxAvailable">100</span></p>
        </div>

        <div class="payment-info">
            <h4>üí≥ Payment Information</h4>
            <div class="payment-row">
                <span class="label">Total Amount:</span>
                <span class="payment-total" id="totalAmount">$40</span>
            </div>
            <div class="payment-row">
                <span class="label">Send payment to:</span>
                <span class="info-value venmo">@Saneka-Chakravarty</span>
            </div>
            <div class="payment-note">
                Please send $<span id="paymentAmount">40</span> via Venmo to <strong>@Saneka-Chakravarty</strong> before completing purchase
            </div>
            <div class="friends-family-note">
                <strong>‚ö†Ô∏è Important: Send as Friends & Family</strong>
            </div>
        </div>

        <div class="modal-buttons">
            <button class="btn-cancel" onclick="closePurchaseModal()">Cancel</button>
            <button class="btn-confirm" onclick="completePurchase()">Confirm Purchase</button>
        </div>
    </div>
</div>

<!-- Ticket Display Modal -->
<div id="ticketModal" class="modal">
    <div class="modal-content">
        <button class="back-btn" onclick="closeTicket()">‚Üê Back</button>
        <div id="ticketDisplay"></div>
    </div>
</div>

<script>
    // Event data
    let ticketsSold = 0;
    const totalTickets = 100;
    const ticketPrice = 40;
    let ticketQuantity = 1;

    // Generate Real QR Code using API
    function generateQRCode(data) {
        // Use a QR code generation API
        const encodedData = encodeURIComponent(data);
        return `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodedData}`;
    }

    // Update ticket display
    function updateTicketDisplay() {
        const remaining = totalTickets - ticketsSold;
        const display = document.getElementById('ticketsDisplay');
        const buyButton = document.getElementById('buyButton');
        
        display.textContent = `${remaining} / ${totalTickets}`;
        
        if (remaining === 0) {
            display.className = 'tickets-left sold-out';
            buyButton.disabled = true;
            buyButton.textContent = 'Sold Out';
        } else if (remaining <= 10) {
            display.className = 'tickets-left low';
        } else {
            display.className = 'tickets-left available';
        }
    }

    // Open purchase modal
    function openPurchaseModal() {
        const remaining = totalTickets - ticketsSold;
        if (remaining === 0) return;
        
        ticketQuantity = 1;
        document.getElementById('ticketQuantity').value = 1;
        document.getElementById('ticketQuantity').max = remaining;
        document.getElementById('maxAvailable').textContent = remaining;
        updateQuantity(1);
        
        document.getElementById('purchaseModal').classList.add('active');
    }

    // Update quantity
    function updateQuantity(value) {
        const remaining = totalTickets - ticketsSold;
        ticketQuantity = Math.max(1, Math.min(remaining, parseInt(value) || 1));
        const totalPrice = ticketPrice * ticketQuantity;
        
        document.getElementById('totalAmount').textContent = `$${totalPrice}`;
        document.getElementById('paymentAmount').textContent = totalPrice;
        document.getElementById('ticketQuantity').value = ticketQuantity;
    }

    // Close purchase modal
    function closePurchaseModal() {
        document.getElementById('purchaseModal').classList.remove('active');
        ticketQuantity = 1;
    }

    // Complete purchase
    function completePurchase() {
        const remaining = totalTickets - ticketsSold;
        
        if (ticketQuantity > remaining) {
            alert('Not enough tickets available!');
            return;
        }

        // Generate unique ticket ID
        const uniqueTicketId = 'DIWALI-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        
        const ticketData = {
            ticketId: uniqueTicketId,
            eventName: 'Hudson South Asians Diwali Party',
            quantity: ticketQuantity,
            totalPrice: ticketPrice * ticketQuantity,
            purchaseDate: new Date().toISOString(),
            ticketNumbers: Array.from(
                { length: ticketQuantity },
                (_, i) => ticketsSold + i + 1
            ),
            venmoAccount: '@Saneka-Chakravarty'
        };

        // Update tickets sold
        ticketsSold += ticketQuantity;
        updateTicketDisplay();

        // Generate QR code with proper error handling
        const qrData = JSON.stringify(ticketData);
        
        // Wait a moment then generate QR code
        setTimeout(() => {
            const qrCodeUrl = generateQRCode(qrData);
            const qrImage = document.querySelector('#ticketDisplay .qr-code');
            if (qrImage) {
                qrImage.src = qrCodeUrl;
                qrImage.onerror = function() {
                    console.error('QR Code failed to load');
                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9IiM2YjcyODAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5RUiBDb2RlPC90ZXh0Pjwvc3ZnPg==';
                };
            }
        }, 100);

        // Show ticket
        document.getElementById('ticketDisplay').innerHTML = `
            <div class="ticket-display">
                <div class="success-icon">üéâ</div>
                <h2 class="modal-header">Purchase Successful!</h2>
                <p class="qr-instructions">Your Diwali Party Ticket QR Code</p>

                <div class="qr-container">
                    <img src="" alt="Loading QR Code..." class="qr-code" id="qrCodeImage">
                    <p class="qr-instructions">ü™î Scan this code at the event ü™î</p>
                    
                    <div class="ticket-details">
                        <div class="detail-row">
                            <span>Ticket ID:</span>
                            <strong style="font-size: 0.85rem;">${ticketData.ticketId}</strong>
                        </div>
                        <div class="detail-row">
                            <span>Event:</span>
                            <strong>${ticketData.eventName}</strong>
                        </div>
                        <div class="detail-row">
                            <span>Tickets:</span>
                            <strong>${ticketData.quantity}</strong>
                        </div>
                        <div class="detail-row">
                            <span>Total Paid:</span>
                            <strong>$${ticketData.totalPrice}</strong>
                        </div>
                        <div class="detail-row">
                            <span>Ticket Numbers:</span>
                            <strong>${ticketData.ticketNumbers.join(', ')}</strong>
                        </div>
                        <div class="detail-row">
                            <span>Paid via Venmo:</span>
                            <strong>${ticketData.venmoAccount}</strong>
                        </div>
                    </div>
                </div>

                <div class="important-note">
                    <strong>Important:</strong>
                    <p>Save this QR code or take a screenshot. You'll need it for entry to the Diwali Party!</p>
                </div>

                <div class="modal-buttons" style="margin-top: 20px;">
                    <button class="btn-confirm" onclick="closeTicket()" style="width: 100%;">Close</button>
                </div>
            </div>
        `;

        closePurchaseModal();
        document.getElementById('ticketModal').classList.add('active');
    }

    // Close ticket modal
    function closeTicket() {
        document.getElementById('ticketModal').classList.remove('active');
    }

    // Initialize
    updateTicketDisplay();
</script>
```

</body>
</html>
